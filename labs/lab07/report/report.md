---
## Front matter
title: "Отчёт по лабораторной работе №7"
subtitle: "Дисциплина: Операционные системы"
author: "Шмырин Михаил Сергеевич"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib


## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы
Освоение основных возможностей командной оболочки Midnight Commander. Приобретение навыков практической работы по просмотру каталогов и файлов; манипуляций с ними.

# Выполнение лабораторной работы

### Задание по mc

1. Изучил информацию о mc, вызвав в командной строке man mc. Узнала, что MC - это псевдографическая командная оболочка для систем.(рис. [-@fig:001])

![Информация о mc](image/2.1.jpg){ #fig:001 width=70% }

2. Запустил из командной строки mc, изучил его структуру и меню. В стандартном состоянии окно редактора состоит из двух панелей. Верхнее меню содержит меню "Левая панель" (рис. [-@fig:002]), "Файл" (рис. [-@fig:003]), "Команда" (рис. [-@fig:004]), "Настройки" (рис. [-@fig:005]), "Правая панель" (рис. [-@fig:006]).

![Левая панель](image/2.2.jpg){ #fig:002 width=70% }

![Файл](image/2.3.jpg){ #fig:003 width=70% }

![Команда](image/2.4.jpg){ #fig:004 width=70% }

![Настройки](image/2.5.jpg){ #fig:005 width=70% }

![Правая панель](image/2.6.jpg){ #fig:006 width=70% }

3. Выполнил несколько операций в mc, используя управляющие клавиши.

  1) Выделение файлов (клавиша insert) (рис. [-@fig:007])

![Выделение файлов](image/2.7.jpg){ #fig:007 width=70% }

  2) Для выделения файлов или его отмены можно использовать команды "Снять отметку", "Обратить выделение" в меню "Файл" (рис. [-@fig:008])

![Выделение/отмена выделения файлов](image/2.8.jpg){ #fig:008 width=70% }

  3) Для копирования файлов используется клавиша F5 (рис. [-@fig:009]), клавиша F6 используется для перемещения (рис. [-@fig:010])
  
![Копирование файлов](image/2.9.jpg){ #fig:009 width=70% }

![Перемещение файлов](image/2.10.jpg){ #fig:010 width=70% }

  4) Для получения информации можно перейти в "Левая панель" -> "Информация" (рис. [-@fig:011])
  
![Информация](image/2.11.jpg){ #fig:011 width=70% }

  5) "Левая панель" -> "Формат списка" -> "Расширенный" (рис. [-@fig:012]) (рис. [-@fig:013])
  
![Формат списка](image/2.12.jpg){ #fig:012 width=70% }
  
![Изменение формата списка](image/2.13.jpg){ #fig:013 width=70% }

  6) "Файл" -> "Права доступа" (рис. [-@fig:014])
  
![Права доступа](image/2.14.jpg){ #fig:014 width=70% }

  7) "Файл" -> "Права"(расширенные). Помимо названия файл или каталога выводит сведения о правах
доступа, владельце, группе, размере, времени правки (рис. [-@fig:015])
  
![Расширенные права](image/2.15.jpg){ #fig:015 width=70% }

4. Выполняю основные команды меню правой панели.

  1) "Список файлов" отображает размер файл и время его правки (рис. [-@fig:016])
  
![Список файлов](image/2.16.jpg){ #fig:016 width=70% }

  2) "Быстрый просмотр" нужен для предпросмотра содержания файла.(рис. [-@fig:017])
  
![Быстрый просмотр](image/2.17.jpg){ #fig:017 width=70% }
  
  3) "Информация" отображает подробные данные о файле (рис. [-@fig:018])
  
![Информация](image/2.18.jpg){ #fig:018 width=70% }
  
  4) "Дерево" необходим для просмотра дерева каталога (рис. [-@fig:019])
  
![Дерево](image/2.19.jpg){ #fig:019 width=70% }

  5) "Выбор кодировки" нужен для просмотра и смены кодировки (рис. [-@fig:020])
  
![Выбор кодировки](image/2.20.jpg){ #fig:020 width=70% }

5. Используя возможности подменю "Файл", выполняю:

  1) просмотр и редактирование содержимого текстового файл (рис. [-@fig:021])
  
![Просмотр содержимого текстового файла](image/2.21.jpg){ #fig:021 width=70% }

  2) создание каталога (рис. [-@fig:022])
  
![Создание каталога](image/2.22.jpg){ #fig:022 width=70% }

 3) копирование в файлов в созданный каталог(рис. [-@fig:023])
  
![Копирование](image/2.23.jpg){ #fig:023 width=70% }

6. С помощью соответствующих средств подменю "Команда" осуществил:

  1) Поиск в файловой системе файл с заданными условиями (например, файла
с расширением .cрр) (рис. [-@fig:024])
  
![Поиск](image/2.24.jpg){ #fig:024 width=70% }

  2) Выбор и повторение одной из предыдущих команд. Перешл в пункт "История" командной строки и увидела, что появилась строка История, но она пустая, потому что командная строка не был использована.
  
  3) Перешел в домашний каталог с помощью Дерева каталогов (рис. [-@fig:025])
  
![Переход в домашний каталог](image/2.25.jpg){ #fig:025 width=70% }
  
7. Вызвал подменю "Настройки". Освоил операции, определяющие структуру экрана mc.

  1) Конфигурация — позволяет скорректировать настройки работы с панелями.(рис. [-@fig:026])
  
![Конфигурация](image/2.26.jpg){ #fig:026 width=70% }
  
  2) Внешний вид (рис. [-@fig:027]) и Настройки панелей (рис. [-@fig:028]) — определяет элементы (строка меню, командная строка, подсказки и прочее), отображаемые при вызове mc, а также геометрию расположения панелей и цветовыделение.
  
![Внешний вид](image/2.27.jpg){ #fig:027 width=70% }

![Настройки панелей](image/2.28.jpg){ #fig:028 width=70% }

  3) Биты символов — задаёт формат обработки информации локальным терминалом.(рис. [-@fig:031])
  
![Биты символов](image/2.31.jpg){ #fig:031 width=70% }

  4) Подтверждение — позволяет установить или убрать вывод окна с запросом подтверждения действий при операциях удаления и перезаписи файлов, а также при выходе из программы (рис. [-@fig:029])
  
![Подтверждение](image/2.29.jpg){ #fig:029 width=70% }

  5) Оформление - позволяет менять цветовую гамму визуальной оболочки (рис. [-@fig:030])
  
![Оформление](image/2.30.jpg){ #fig:030 width=70% }

### Задание по встроенному редактору mc

1. Создаю текстовой файл text.txt. (рис. [-@fig:032])
  
![Создание текстового файл text.txt](image/2.32.jpg){ #fig:032 width=70% }

2. Открыл этот файл с помощью встроенного в mc редактора.

3. Вставил в открытый файл небольшой фрагмент текста, скопированный из Интернета.(рис. [-@fig:033])
  
![Вставил фрагмент текста из Интернета](image/2.33.jpg){ #fig:033 width=70% }

4. Проделайте с текстом следующие манипуляции, используя горячие клавиши:

  1) Удалил строку текста с помощью клавиши F8.
  
  2) Выделил фрагмент текста (F3) и скопировал его на новую строку (F6).
  
  3) Сохранил файл с помощью клавиши F2.
  
  4) Отменил последнее действие с помощью комбинации ctrl+u.
  
  5) Перешел в конец файл (ctrl+end) и написал строку "Лабораторна работа №7". Перешел в начало файл (ctrl+home) и написал строку "4 мая 2022 год" (рис. [-@fig:034])
  
![Изменение](image/2.34.jpg){ #fig:034 width=60% }
  
  7) Сохранил файл (F2) и вышл из него.
  
6. Используя меню редактора, выключил подсветку синтаксиса.


# Ответы на контрольные вопросы:

1. Панели могут дополнительно быть переведены в один из двух режимов: «Информация» или «Дерево». В режиме «Информация» на панель выводятся сведения о файле и текущей файловой системе, расположенных на активной панели. В режиме «Дерево» на одной из панелей выводится структура дерева каталогов.

2. Как с помощью команд shell, так и с помощью меню (комбинаций клавиш) mc можно выполнить следующие операции с файлами:

• копирование «F5» («cp имя_файл имя_каталога (в который копируем)») 

• перемещение/переименование «F6» («mv имя_файл имя_каталога (в который перемещаем)») 

• создание каталога «F7» («mkdir имя_каталога») 

• удаление «F8» («rm имя_файла») • изменение прав доступа «ctrl+x» («chmod u+x имя_файла») 

3. Перейти в строку меню панелей mc можно с помощью функциональной клавиши «F9». В строке меню имеются пять меню: «Левая панель», «Файл», «Команда», «Настройки» и «Правая панель». Под пункт меню «Быстрый просмотр» позволяет выполнить быстрый просмотр содержимого панели. Подпункт меню «Информация» позволяет посмотреть информацию о файле или каталоге. В меню каждой (левой или правой) панели можно выбрать «Формат списка»: 

• стандартный − выводит список файлов и каталогов с указанием размера и времени правки; 

• ускоренный − позволяет задать число столбцов, на которые разбивается панель при выводе списка имён файлов или каталогов без дополнительной информации; 

• расширенный − помимо названия файл или каталога выводит сведения о правах доступа, владельце, группе, размере, времени правки; 

• определённый пользователем − позволяет вывести те сведения о файле или каталоге, которые задаст сам пользователь. Подпункт меню «Порядок сортировки» позволяет задать критерии сортировки при выводе списка файлов и каталогов: без сортировки, по имени, расширенный, время правки, время доступа, время изменения атрибута, размер, узел. 

4. Команды меню «Файл»: 

• Просмотр(«F3»)− позволяет посмотреть содержимое текущего (или выделенного) файл без возможности редактирования. 

• Просмотр вывода команды («М»+«!»)− функция запроса команды с параметрами (аргумент к текущему выбранному файлу). 

• Правка(«F4») − открывает текущий (или выделенный) файл для его редактирования. 

• Копирование(«F5»)− осуществляет копирование одного или нескольких файлов или каталогов в указанное пользователем во всплывающем окне место. 

• Права доступа («Ctrl-x»«c»)− позволяет указать (изменить) права доступа к одному или нескольким файлам или каталогам. 

• Жёсткая ссылка («Ctrl-x»«l»)− позволяет создать жёсткую ссылку к текущему(или выделенному) файлу. 

• Символическая ссылка («Ctrl-x»«s»)− позволяет создать символическую ссылку к текущему (или выделенному) файлу. 

• Владелец/группа («Ctrl-x»«o»)− позволяет задать (изменить) владельца и имя группы для одного или нескольких файлов или каталогов. 

• Права(расширенные)− позволяет изменить права доступа и владения для одного или нескольких файлов или каталогов.

• Переименование («F6»)− позволяет переименовать (или переместить) один или несколько файлов или каталогов. 

• Создание каталога («F7») − позволяет создать каталог. 

• Удалить («F8») − позволяет удалить один или несколько файлов или каталогов. • Выход («F10») − завершает работу mc. 

5. Меню Команда В меню Команда содержатся более общие команды для работы с mc. Команды меню Команда: 

• Дерево каталогов − отображает структуру каталогов системы. 

• Поиск файл − выполняет поиск файлов по заданным параметрам. 

• Переставить панели − меняет местами левую и правую панели. 

• Сравнить каталоги («Ctrl-x»«d») − сравнивает содержимое двух каталогов. 

• Размеры каталогов − отображает размер и время изменения каталога (по умолчанию в mc размер каталога корректно не отображается). 

• История командной строки − выводит на экран список ранее выполненных в оболочке команд. 

• Каталоги быстрого доступа(Ctrl-»)− при вызове выполняется быстрая смена текущего каталога на один из заданного списка. 

• Восстановление файлов − позволяет восстановить файлы на файловых системах ext2 и ext3. 

• Редактировать файл расширений − позволяет задать с Елизавета Пермякова, вчера в 20:21 помощью определённого синтаксиса действия при запуске файлов с определённым расширением (например, какое программное обеспечение запускать для открытия или редактирования файлов с расширением doc или docx). 

• Редактировать файл меню − позволяет отредактировать контекстное меню пользователя, вызываемое по клавише «F2». 

• Редактировать файл расцветки имён − позволяет подобрать оптимальную для пользователя расцветку имён файлов в зависимости от их типа. 

6. Меню Настройки содержит ряд дополнительных опций по внешнему виду и функциональности mc. Меню Настройки содержит: 

• Конфигурация − позволяет скорректировать настройки работы с панелями. 

• Внешний вид и Настройки панелей − определяет элементы (строка меню, командная строка, подсказки и прочее), отображаемые при вызове mc, а также геометрию расположения панелей и цветовыделение. 

• Биты символов − задаёт формат обработки информации локальным терминалом. 

• Подтверждение − позволяет установить или убрать вывод окна с запросом подтверждения действий при операциях удаления и перезаписи файлов, а также при выходе из программы. 

• Распознание клавиш − диалоговое окно используется для тестирования функциональных клавиш, клавиш управления курсором и прочее. 

• Виртуальные ФС − настройки виртуальной файловой системы: тайм-аут, пароль и прочее. 

7. Функциональные клавиши mc: 

• F1 – вызов контекстно-зависимой подсказки 

• F2 – вызов пользовательского меню с возможностью создания и/или дополнения дополнительных функций 

• F3 – просмотр содержимого файла, на который указывает подсветка в активной панели (без возможности редактирования) 

• F4 – вызов встроенного в mc редактора для изменения содержания файла, на который указывает подсветка в активной панели 

• F5 – копирование одного или нескольких файлов, отмеченных впервой (активной) панели, в каталог, отображаемый на второй панели 

• F6 – перенос одного или нескольких файлов, отмеченных в первой (активной) панели, в каталог, отображаемый на второй панели 

• F7 – создание подкаталога в каталоге, отображаемом в активной панели 

• F8 – удаление одного или нескольких файлов (каталогов), отмеченных в первой (активной) панели файлов 

• F9 – вызов меню mc 

• F10 – выход из mc 

8. Встроенный в mc редактор вызывается с помощью функциональной клавиши «F4». В нём удобно использовать различные комбинации клавиш при редактировании содержимого (как правило текстового) файла. Клавиши для редактирования файл: 

• «Ctrl-y» − удалить строку 

• «Ctrl-u» − отмена последней операции 

• «ins» - вставка/замена 

• «F7» − поиск (можно использовать регулярные выражения) 

• «F7» − повтор последней операции поиска 

• «F4» − замена 

• «F3» − первое нажатие − начало выделения, второе − окончание выделения 

• «F5» − копировать выделенный фрагмент 

• «F6» − переместить выделенный фрагмент 

• «F8» − удалить выделенный фрагмент 

• «F2» − записать изменения в файл 

• «F10» − выйти из редактор 

9. Для редактирования меню пользователя, которое вызывается клавишей «F2», необходимо перейти в пункт «Редактировать файл меню» → «Команда» и изменить настройки файла. 

10. Часть команд «Меню пользователя», а также меню «Файл» позволяют выполнять действия, определяемые пользователем, над текущим файлом. Например, копирование каталога или файла, переименование, перемещение, архивирование.


# Выводы

Я освоил основные возможности командной оболочки Midnight Commander. Приобрел навыки практической работы по просмотру каталогов и файлов; манипуляций с ними.
